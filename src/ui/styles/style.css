/* ================================================= */
/* アプリケーション全体のレイアウト調整 */
/* ================================================= */

/**
 * メインコンテンツコンテナのスタイリング
 * 
 * 適用対象: Streamlitのメインコンテンツエリア（.block-container）
 * 
 * 効果:
 * - 最大幅を1200pxに制限し、大画面での可読性を向上
 * - 左右のマージンをautoに設定して中央寄せを実現
 * - 上下にパディングを追加してコンテンツに余白を確保
 * 
 * レスポンシブデザイン:
 * - 画面幅が1200px以下の場合、コンテナは画面幅に合わせて自動的に縮小
 * - モバイルデバイスでは、Streamlitのデフォルトパディングが適用される
 * 
 * ブラウザ互換性:
 * - すべてのモダンブラウザ（Chrome, Firefox, Safari, Edge）で動作
 * - IE11でも動作するが、Streamlit自体がIE11をサポートしていない
 */
.block-container {
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    padding-top: 2rem;
    padding-bottom: 2rem;
}

/* ================================================= */
/* 特定のStreamlit要素のスタイリング */
/* ================================================= */

/**
 * ページタイトルの中央寄せスタイル
 * 
 * 適用対象: h1要素およびStreamlitが生成する特定のクラス
 * 
 * 効果:
 * - タイトルを中央揃えにして視覚的な統一感を演出
 * - 下部に1.5remのマージンを追加してコンテンツとの間隔を確保
 * 
 * 注意事項:
 * - Streamlitのバージョンアップにより、クラス名（st-emotion-cache-*）が変更される可能性がある
 * - クラス名が変更された場合は、ブラウザの開発者ツールで新しいクラス名を確認して更新が必要
 * - emotion-cacheのハッシュ値は動的に生成されるため、環境によって異なる場合がある
 * 
 * ブラウザ互換性:
 * - text-align: center は全ブラウザでサポート
 * - rem単位は IE9+ でサポート
 */
h1.st-emotion-cache-nahz7x,
.st-emotion-cache-nahz7x {
    text-align: center;
    margin-bottom: 1.5rem;
}

/**
 * 検索ボックスのレイアウト調整
 * 
 * 適用対象: Streamlitのテキスト入力コンポーネント（st.text_input）
 * 
 * 効果:
 * - Flexboxレイアウトを使用して縦方向に要素を配置
 * - ラベルと入力フィールドを左寄せにして統一感を演出
 * - 下部のマージンを0にして、次の要素（検索ボタン）との隙間を詰める
 * 
 * レスポンシブデザイン:
 * - flex-direction: column により、モバイルでも縦方向の配置を維持
 * - 入力フィールドは親要素の幅に合わせて自動的に調整される
 * 
 * ブラウザ互換性:
 * - Flexboxは IE11+ でサポート（一部のバグあり）
 * - モダンブラウザでは完全にサポート
 */
div[data-testid="stTextInput"] {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-bottom: 0rem;
    /* ボタンとの隙間を詰める */
}

/**
 * 検索ボタンのマージン調整
 * 
 * 適用対象: Streamlitのボタンコンポーネント（st.button）の親要素
 * 
 * 効果:
 * - 上部のマージンを負の値（-0.5rem）にして、テキスト入力との隙間を詰める
 * - 下部に1remのマージンを追加して、次の要素との適切な間隔を確保
 * - UIの密度を高めて、コンパクトなレイアウトを実現
 * 
 * 注意事項:
 * - 負のマージンを使用しているため、レイアウトが崩れないよう注意が必要
 * - 値を調整する場合は、実際の表示を確認しながら微調整すること
 * 
 * レスポンシブデザイン:
 * - rem単位を使用しているため、ユーザーのフォントサイズ設定に応じて自動調整
 * - モバイルデバイスでも同じ比率で間隔が維持される
 * 
 * ブラウザ互換性:
 * - 負のマージンは全ブラウザでサポート
 * - rem単位は IE9+ でサポート
 */
div.stButton {
    margin-top: -0.5rem;
    /* テキスト入力との隙間を詰める */
    margin-bottom: 1rem;
    /* ボタンの下に少しスペースを空ける場合はこの値を調整 */
}

/**
 * チェックボックスのラベルスタイル調整
 * 
 * 適用対象: Streamlitのチェックボックスコンポーネント（st.checkbox）のラベル要素
 * 
 * 効果:
 * - 上下のマージンを0.2remに設定して、ボタンの高さと視覚的に揃える
 * - Flexboxを使用してチェックボックスアイコンとテキストを縦方向中央揃え
 * - UIの統一感を向上させ、視覚的なバランスを改善
 * 
 * 技術的詳細:
 * - display: flex により、ラベル内の要素を柔軟に配置
 * - align-items: center により、チェックボックスとテキストの縦位置を揃える
 * 
 * レスポンシブデザイン:
 * - Flexboxにより、異なる画面サイズでも適切な配置を維持
 * - rem単位により、ユーザーのフォントサイズ設定に対応
 * 
 * ブラウザ互換性:
 * - Flexboxは IE11+ でサポート
 * - align-items: center は全モダンブラウザでサポート
 */
div[data-testid="stCheckbox"] label {
    margin-top: 0.2rem;
    /* 微調整 */
    margin-bottom: 0.2rem;
    /* 微調整 */
    display: flex;
    /* チェックボックスのアイコンとテキストをFlexboxで整列させる */
    align-items: center;
    /* 縦方向中央揃え */
}

/**
 * Markdownテキストの配置調整
 * 
 * 適用対象: Streamlitのマークダウンコンポーネント（st.markdown）内の段落要素
 * 
 * 効果:
 * - テキストを左寄せにして、検索結果件数などのメッセージを読みやすくする
 * - 下部に1remのマージンを追加して、次の要素との適切な間隔を確保
 * - デフォルトの中央寄せを上書きして、一般的なテキスト配置に戻す
 * 
 * 適用例:
 * - 検索結果件数の表示（「検索結果: 123件」など）
 * - 情報メッセージやステータス表示
 * 
 * レスポンシブデザイン:
 * - 左寄せはすべての画面サイズで一貫して適用される
 * - rem単位により、フォントサイズに応じてマージンが調整される
 * 
 * ブラウザ互換性:
 * - text-align: left は全ブラウザでサポート
 * - 標準的なCSSプロパティのため、互換性の問題なし
 */
div[data-testid="stMarkdown"] p {
    text-align: left;
    margin-bottom: 1rem;
}

/* ================================================= */
/* HTMLテーブルのスタイリング（既存+微調整） */
/* ================================================= */

/**
 * テーブルコンテナの横スクロール設定
 * 
 * 適用対象: Streamlitがst.write()で出力するHTMLテーブルを囲むdiv要素
 * 
 * 効果:
 * - overflow-x: auto により、テーブルが画面幅を超える場合に横スクロールを有効化
 * - モバイルデバイスでも大きなテーブルを閲覧可能にする
 * 
 * 注意事項:
 * - このdivのスタイルは主にPythonコード側でインライン設定されている
 * - CSSセレクタは属性セレクタ（[style*="overflow-x: auto"]）を使用
 * - インラインスタイルとCSSの優先順位に注意が必要
 * 
 * レスポンシブデザイン:
 * - 横スクロールにより、小さい画面でもテーブル全体を表示可能
 * - タッチデバイスでのスワイプ操作に対応
 * 
 * ブラウザ互換性:
 * - overflow-x: auto は IE8+ でサポート
 * - モバイルブラウザでも広くサポートされている
 */
div[style*="overflow-x: auto"] {
    /* この div のスタイルは Python コードでインライン設定されている */
}

/**
 * テーブルセルの基本スタイル
 * 
 * 適用対象: Pandasデータフレームから生成されたHTMLテーブルのヘッダー（th）とデータセル（td）
 * 
 * 効果:
 * - white-space: nowrap により、セル内のテキストを1行に保ち、改行を防ぐ
 * - padding により、セル内のコンテンツに適切な余白を確保して可読性を向上
 * - text-align: left により、すべてのセルを左寄せにして統一感を演出
 * 
 * デザイン意図:
 * - 配信日、曲目番号、YouTubeリンクなどの短いテキストは1行で表示
 * - テーブルの横幅を最小限に抑え、横スクロールの範囲を制限
 * - アーティスト列のみ例外的に改行を許可（.artist-cellクラスで上書き）
 * 
 * レスポンシブデザイン:
 * - nowrapにより、モバイルでもテキストが意図せず折り返されない
 * - 横スクロールと組み合わせて、小さい画面でも情報を正確に表示
 * 
 * ブラウザ互換性:
 * - white-space: nowrap は全ブラウザでサポート
 * - padding と text-align は標準的なプロパティで互換性の問題なし
 */
table.dataframe th,
table.dataframe td {
    white-space: nowrap;
    /* デフォルトで改行しない */
    padding: 8px 12px;
    text-align: left;
}

/**
 * アーティスト列の特別なスタイル
 * 
 * 適用対象: アーティスト列のセル（Pythonコード側で.artist-cellクラスを付与）
 * 
 * 効果:
 * - white-space: normal により、通常の改行ルールを適用してテキストの折り返しを許可
 * - word-break: break-word により、長いアーティスト名でも強制的に改行して表示
 * - テーブル全体のnowrap設定を上書きして、アーティスト列のみ複数行表示を可能にする
 * 
 * デザイン意図:
 * - アーティスト名は長い場合があるため、改行を許可して可読性を確保
 * - 他の列（配信日、曲目番号など）は1行表示を維持
 * - テーブルの横幅を抑えつつ、必要な情報をすべて表示
 * 
 * 技術的詳細:
 * - このクラスはPythonコード側でHTMLを生成する際に動的に付与される
 * - CSSの詳細度により、table.dataframe tdのnowrap設定を上書き
 * 
 * レスポンシブデザイン:
 * - 画面幅に応じてアーティスト名が適切に折り返される
 * - モバイルデバイスでも長いアーティスト名が読みやすく表示される
 * 
 * ブラウザ互換性:
 * - white-space: normal は全ブラウザでサポート
 * - word-break: break-word は IE5.5+、Chrome、Firefox、Safari でサポート
 * - 一部の古いブラウザでは overflow-wrap: break-word の使用を検討
 */
.artist-cell {
    white-space: normal;
    /* 通常の改行を許可 */
    word-break: break-word;
    /* 長い単語でも強制的に改行 */
}

/**
 * テーブル全体のレイアウトとサイズ設定
 * 
 * 適用対象: Pandasデータフレームから生成されたHTMLテーブル
 * 
 * 効果:
 * - min-width: fit-content により、テーブルの最小幅をコンテンツに合わせて自動調整
 * - width: 100% により、親要素の幅いっぱいにテーブルを広げる
 * - border-collapse: collapse により、セル間の境界線を統合して見た目をすっきりさせる
 * 
 * デザイン意図:
 * - コンテンツ量に応じてテーブル幅が自動調整される
 * - 親要素（横スクロールコンテナ）内で適切に表示される
 * - 境界線の重複を防ぎ、シンプルなテーブルデザインを実現
 * 
 * レスポンシブデザイン:
 * - fit-contentにより、小さい画面でもテーブルが適切なサイズで表示される
 * - 横スクロールと組み合わせて、すべてのコンテンツを表示可能
 * 
 * ブラウザ互換性:
 * - fit-content は Chrome 46+, Firefox 94+, Safari 11+ でサポート
 * - 古いブラウザでは auto にフォールバックされる
 * - border-collapse は IE5+ でサポート
 */
table.dataframe {
    min-width: fit-content;
    width: 100%;
    border-collapse: collapse;
}

/**
 * テーブルセルの境界線スタイル
 * 
 * 適用対象: テーブルのすべてのヘッダーとデータセル
 * 
 * 効果:
 * - 1pxの実線境界線を#ddd（明るいグレー）で表示
 * - セル間を視覚的に区切り、データの可読性を向上
 * 
 * デザイン意図:
 * - 控えめな色（#ddd）により、境界線が目立ちすぎないようにする
 * - データに集中しやすいシンプルなデザイン
 * 
 * ブラウザ互換性:
 * - border プロパティは全ブラウザでサポート
 */
table.dataframe th,
table.dataframe td {
    border: 1px solid #ddd;
}

/**
 * テーブルヘッダーのスタイル
 * 
 * 適用対象: テーブルのヘッダー行（thead内のth要素）
 * 
 * 効果:
 * - background-color: #f2f2f2 により、ヘッダーに薄いグレーの背景色を適用
 * - font-weight: bold により、ヘッダーテキストを太字にして強調
 * - ヘッダーとデータ行を視覚的に区別し、テーブルの構造を明確化
 * 
 * デザイン意図:
 * - ヘッダーを目立たせて、各列の意味を明確にする
 * - 控えめな背景色により、データに集中しやすくする
 * - 太字により、ヘッダーの重要性を視覚的に伝える
 * 
 * アクセシビリティ:
 * - 背景色とテキストのコントラスト比を確保して可読性を向上
 * - 太字により、視覚的な階層構造を明確化
 * 
 * ブラウザ互換性:
 * - background-color と font-weight は全ブラウザでサポート
 * - 標準的なプロパティのため、互換性の問題なし
 */
table.dataframe thead th {
    background-color: #f2f2f2;
    font-weight: bold;
}